# pg16
A book about the internals of PostgreSQL open source database

## 前言

在IT行业浪迹了二十多年以后，我想写人生第一本关于IT技术的书，那就是本书。也许是因为命运的安排，十多年前我来到美国后，阴差阳错地进入了数据库管理员DBA（Database Administrator）的行业，自己职业生涯的大部分时间是和Oracle等数据库打交道，所以我这本书是关于著名的开源数据库PostgreSQL的书，类似大概是“某某某从入门到精通”之类的内容，绝对不会教你从删库到跑路。

写书有三种类型，编书，著书和编著。其中的区别是显而易见的。所谓编书，就是把能够找到的相关资料汇编成册，内容是别人的，自己做的工作是汇集整理。所谓著书，就是把自己学习理解的知识写出来，把肚子里面的饺子倒出来。编著则是居于“编”和“著”中间的层次。很显然，“著书”是花费精力和心血最多的工作，产生的书也最能得到读者的赏识。曹雪芹说过：“满纸荒唐言，一把辛酸泪。都云作者痴，谁解其中味”。这估计是著书的天花板了。我想用最大的心血来“著”这本书，至于能不能得到读者的认同，自由读者去判断，我自不多言。

从二十世纪中后期到二十一世纪前期，是信息技术革命大爆发的时代。这自然是一件好事，但是也带来了一些副作用。一个典型的副作用就是技术壁垒越来越高，导致后来的学习者想登堂入室的难度越来越大，也导致技术发展的新鲜血液补充不足。譬如Linux内核的开发，对于初学者来说，学习曲线异常陡峭，除非投入巨大的学习精力和时间成本，否则很难听懂Linux内核老鸟的谈话。老鸟们终究会老去，新鲜血液补充不足，是各种技术面临的普遍问题。劳动者需要更长的学习时间才能从事某一个专业领域，从而导致当代年轻人不婚，少子化，躺平等社会问题。这不能不说是对技术进步的讽刺，而且这个问题基本无解。我写本书的目的就是希望能够降低学习者进入PostgreSQL数据库领域的门槛，另一方面也是对自己职业生涯的总结。

或云：坊间相关PostgreSQL的书籍早已汗牛充栋，你写的这本书又有什么价值？答曰：因为我对目前所有的关于PostgreSQL的书籍不甚满意。不满是技术进步的动力。在我学习PostgreSQL的过程中，充满了痛苦。很多初级读物流于肤浅，深入的书籍因为前导概念和知识的缺乏，又让初学者不知所云。我就像一只勤劳的小蜜蜂，必须不断在互联网上飞来飞去，四处艰难地采集干货知识点，加上自己不断做笔记和做实验，分析源码，花费了大量时间，才能够有一点点收获。我不想后学者再反复重复这个痛苦过程，就想循序渐进地把基本知识和深入知识融合在一起，让读者只要按顺序学习本书，就能够以较少的痛苦代价，达到一定程度的“登堂入室”的境界，为进一步提高技术水平打下良好的基础。不让别的学习者像自己一样痛苦，是我写本书的强烈冲动。希望本书能够达到我的这个目标。

## 本书写作遵循的原则
- **循序渐进的原则** ： 人类学习知识的过程肯定是循序渐进的。如果概念B是建立在概念A的基础上，那么学习的时候必须先学习搞懂概念A，然后才能学习概念B。这当然是废话。然而很多书籍和教程往往忽视这个根本性的原则，导致读者如鲠在喉，想吐槽却无处说理。我亦深受其苦，所以“循序渐进”是本书遵循的最高原则。只要读者按照顺序学习本书，整个过程是非常流畅的，学习时候的痛苦感减少很多。
- 
- **基本知识和深入知识互相验证的原则** ： 当我们学习Oracle, SQL Server等商业闭源软件的时候，只可能学习外在的功能性知识，了解这个软件的功能，却不知道它的内部是如何实现的。所以我从事Oracle DBA


