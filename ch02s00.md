# 第二章 - PostgreSQL体系架构介绍

在第一章中我们已经学会了如何在Linux环境下采用编译源码的方式来搭建我们的PostgreSQL学习实验环境。在本章中，我们介绍PostgreSQL的体系架构

## PostgreSQL的后台进程

内容以后提供

## PostgreSQL的内存结构

内容以后提供

## 数据库集群(Database Cluster)的概念

在PostgreSQL的世界里面有一个重要的概念，叫做Database Cluster，中文翻译是“数据库集群”。它简称为Cluster，中文翻译是“集群”。这个概念很容易让初学者迷惑。在大部分人头脑里面，Cluster/集群的概念指的是协同工作的多台计算机的集合，可以被视为一个整体。例如Oracle数据库中的RAC，SQL Server中的Windows Cluster。但是在PG里面，Database Cluster是指一台机器上的一个目录。在这个目录中包含了多个子目录，每一个子目录是一个数据库，多个数据库在一起，叫做Database Cluster。但是实际上PG Database Cluster是运行在一台机器上的。这一点会让初学者有点失望。多台机器组成的“真正”的PG数据库机器的集群，不是本书所讨论的内容。

简而言之，Cluster就是一个目录加一个TCP侦听端口号。为了在一台机器上同时运行多个Cluster，我们必须要保证每一个Cluster拥有不同的目录，而且它的TCP侦听端口号没有被别的进程占用。举例来说，Cluster1的目录是/opt/data/pgdata1，它的port是5432。Cluster2的目录是/opt/data/pgdata2，它的port是5433，则我们可以同时运行这两个cluster。
